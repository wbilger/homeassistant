#################################################################
# VIEW: r.family_room
#   Family Room Remote
#################################################################
title: Family Room Remote
path: r.family_room
icon: mdi:remote
cards:
  - type: vertical-stack
    cards:
      - type: picture-elements
        image: /local/photos/transparent.png
        aspect_ratio: 27.25%
        elements:
          - type: image
            image: /local/photos/yellow.png
            aspect_ratio: 27.25%
            entity: light.family_room_lights
            tap_action:
              action: call-service
              service: switch.turn_off
              service_data:
                entity_id: light.family_room_lights
            state_filter:
              "off": opacity(0%)
              "on": opacity(10%)
            style:
              width: 100%
              top: 50%
              left: 50%
              border: 1px solid lightgray

          - type: state-label
            entity: sensor.rtemperature_family_room
            tap_action:
              action: call-service
              service: switch.turn_off
              service_data:
                entity_id: light.family_room_lights
            style:
              color: gray
              font-weight: bold
              top: 10%
              left: 10%
          - type: image
            image: /local/photos/light_lamp_floor.png
            entity: light.couch_lamp
            tap_action:
              action: toggle
            hold_action:
              action: more-info
            state_filter:
              "off": opacity(33%)
              "unavailable": opacity(20%) brightness(10%)
            style:
              width: 18%
              top: 58%
              left: 10%
          - type: image
            image: /local/photos/light_ceiling.png
            entity: light.family_room_light
            tap_action:
              action: toggle
            hold_action: !include /config/lovelace/cards/tap_action/popups/family_room_light.yaml
            state_filter:
              "off": opacity(33%)
              "unavailable": opacity(20%) brightness(10%)
            style:
              width: 20%
              top: 33%
              left: 35%
          - type: image
            image: /local/photos/light_lamp.png
            entity: light.desk_lamp
            tap_action:
              action: toggle
            state_filter:
              "off": opacity(33%)
              "unavailable": opacity(20%) brightness(10%)
            style:
              width: 16%
              top: 46%
              left: 65%
          # - type: image
          #   image: /local/photos/icon_question.png
          - type: icon
            icon: mdi:help-circle
            tap_action:
              action: navigate
              navigation_path: /lovelace/family_room
            hold_action:
              action: navigate
              navigation_path: /lovelace/home
            style:
              opacity: .5
              top: 28%
              left: 90%
          # - type: image
          #   image: /local/photos/icon_dim.png
          - type: icon
            icon: mdi:lightbulb-on-30
            tap_action:
              action: call-service
              service: script.kitchen_lights_night_dim
            style:
              opacity: .2
              top: 80%
              left: 80%
          - type: icon
            icon: mdi:water-pump
            tap_action:
              action: call-service
              service: light.turn_off
              service_data:
                entity_id: light.kitchen_sink_light
            style:
              opacity: .2
              width: 9%
              top: 80%
              left: 90%
          - type: icon
            icon: mdi:google-home
            tap_action:
              action: call-service
              service: media_player.turn_off
              service_data:
                entity_id: media_player.kitchen_speaker
            style:
              opacity: .2
              width: 9%
              top: 60%
              left: 97%

      #################################################################
      # VIEW: r.family_room
      #   Family Room Remote - navigation buttons (3x3 Grid)
      #################################################################
      - type: conditional
        conditions: #Roku TV or Plex
          - entity: input_select.remote_family_room
            state_not: "AndroidTV"
          - entity: input_select.remote_family_room
            state_not: "Bell"
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  icon: mdi:information-variant
                  entity: input_text.family_room_plex_user
                  show_state: true
                  show_name: false
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - info
                  hold_action: !include /config/lovelace/cards/tap_action/popups/tautulli.yaml
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:arrow-up-thick
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - up
                  hold_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - up
                    repeat: 100
                  styles:
                    card:
                      - height: 94px
                - type: vertical-stack
                  cards:
                    - type: horizontal-stack
                      cards:
                        - type: custom:button-card
                          icon: mdi:netflix
                          tap_action:
                            action: call-service
                            service: media_player.select_source
                            service_data:
                              entity_id: media_player.family_room_roku
                              source: "Netflix"
                          styles:
                            card:
                              - height: 43px
                        - type: custom:button-card
                          icon: mdi:television-classic
                          name: "10"
                          tap_action:
                            action: call-service
                            service: media_player.play_media
                            service_data:
                              entity_id: media_player.family_room_roku
                              media_content_id: 10.1 #tune to CFPL London
                              media_content_type: channel
                          styles:
                            card:
                              - height: 43px
                    - type: horizontal-stack
                      cards:
                        - type: custom:button-card
                          icon: mdi:home
                          tap_action:
                            action: call-service
                            service: remote.send_command
                            service_data:
                              entity_id: remote.family_room_roku
                              command:
                                - home
                          styles:
                            card:
                              - height: 43px
                        - type: custom:button-card
                          icon: mdi:television-classic
                          name: "31"
                          tap_action:
                            action: call-service
                            service: media_player.play_media
                            service_data:
                              entity_id: media_player.family_room_roku
                              media_content_id: 31.1 #tune to City TV
                              media_content_type: channel
                          styles:
                            card:
                              - height: 43px
                        # - type: custom:button-card
                        #   icon: mdi:football
                        #   tap_action:
                        #     action: call-service
                        #     service: media_player.select_source
                        #     service_data:
                        #       entity_id: media_player.family_room_roku
                        #       source: "DAZN Live Sports Streaming"
                        #   styles:
                        #     card:
                        #       - height: 43px
                        # - type: custom:button-card
                        #   icon: mdi:youtube
                        #   tap_action:
                        #     action: call-service
                        #   service: media_player.select_source
                        #   service_data:
                        #     entity_id: media_player.family_room_roku
                        #     source: "YouTube"
                        #   styles:
                        #     card:
                        #       - height: 43px
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  icon: mdi:arrow-left-thick
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - left
                  hold_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - left
                    repeat: 100
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:circle
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - select
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:arrow-right-thick
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - right
                  hold_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - right
                    repeat: 100
                  styles:
                    card:
                      - height: 94px

            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  icon: mdi:replay
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - replay
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:arrow-down-thick
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - down
                  hold_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - down
                    repeat: 100
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:keyboard-backspace
                  tap_action:
                    action: call-service
                    service: remote.send_command
                    service_data:
                      entity_id: remote.family_room_roku
                      command:
                        - back
                  styles:
                    card:
                      - height: 94px

      - type: conditional
        conditions:
          - entity: input_select.remote_family_room
            state: "AndroidTV"
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  icon: mdi:information-variant
                  entity: input_text.family_room_plex_user
                  show_state: true
                  show_name: false
                  tap_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "MENU"
                  hold_action: !include /config/lovelace/cards/tap_action/popups/tautulli.yaml
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:arrow-up-thick
                  tap_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "UP"
                      #command: "sendevent /dev/input/event5 4 4 786498 && sendevent /dev/input/event5 1 103 1 && sendevent /dev/input/event5 0 0 0 && sendevent /dev/input/event5 4 4 786498 && sendevent /dev/input/event5 1 103 0 && sendevent /dev/input/event5 0 0 0"
                  hold_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "UP"
                      #command: "sendevent /dev/input/event5 4 4 786498 && sendevent /dev/input/event5 1 103 1 && sendevent /dev/input/event5 0 0 0 && sendevent /dev/input/event5 4 4 786498 && sendevent /dev/input/event5 1 103 0 && sendevent /dev/input/event5 0 0 0"
                    repeat: 100
                  styles:
                    card:
                      - height: 94px
                - type: vertical-stack
                  cards:
                    - type: horizontal-stack
                      cards:
                        - type: custom:button-card
                          icon: mdi:plex
                          tap_action:
                            action: call-service
                            service: media_player.select_source
                            target:
                              entity_id: media_player.family_room_androidtv
                            data:
                              source: "Plex"
                          styles:
                            card:
                              - height: 43px
                        - type: custom:button-card
                          icon: mdi:netflix
                          tap_action:
                            action: call-service
                            service: media_player.select_source
                            service_data:
                              entity_id: media_player.family_room_androidtv
                              source: "Netflix"
                          styles:
                            card:
                              - height: 43px
                    - type: horizontal-stack
                      cards:
                        - type: custom:button-card
                          icon: mdi:cast
                          tap_action:
                            action: call-service
                            service: media_player.select_source
                            service_data:
                              entity_id: media_player.family_room_androidtv
                              source: "Google Cast"
                          styles:
                            card:
                              - height: 43px
                        - type: custom:button-card
                          icon: mdi:television-classic
                          name: "Bell"
                          tap_action:
                            action: call-service
                            service: media_player.select_source
                            service_data:
                              entity_id: media_player.family_room_androidtv
                              source: "Bell Fibe"
                          styles:
                            card:
                              - height: 43px
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  icon: mdi:arrow-left-thick
                  tap_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "LEFT"
                      #command: "sendevent /dev/input/event5 4 4 786500 && sendevent /dev/input/event5 1 105 1 && sendevent /dev/input/event5 0 0 0 &&  sendevent /dev/input/event5 4 4 786500 && sendevent /dev/input/event5 1 105 0 && sendevent /dev/input/event5 0 0 0"
                  hold_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "LEFT"
                    repeat: 100
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:circle
                  tap_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "CENTER"
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:arrow-right-thick
                  tap_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "RIGHT"
                      #command: "sendevent /dev/input/event5 4 4 786501 && sendevent /dev/input/event5 1 106 1 && sendevent /dev/input/event5 0 0 0 && sendevent /dev/input/event5 4 4 786501 && sendevent /dev/input/event5 1 106 0 && sendevent /dev/input/event5 0 0 0"
                  hold_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "RIGHT"
                    repeat: 100
                  styles:
                    card:
                      - height: 94px

            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  icon: mdi:home
                  tap_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "HOME"
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:arrow-down-thick
                  tap_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "DOWN"
                      #command: "sendevent /dev/input/event5 4 4 786499 && sendevent /dev/input/event5 1 108 1 && sendevent /dev/input/event5 0 0 0 && sendevent /dev/input/event5 4 4 786499 && sendevent /dev/input/event5 1 108 0 && sendevent /dev/input/event5 0 0 0"
                  hold_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "DOWN"
                      #command: "sendevent /dev/input/event5 4 4 786499 && sendevent /dev/input/event5 1 108 1 && sendevent /dev/input/event5 0 0 0 && sendevent /dev/input/event5 4 4 786499 && sendevent /dev/input/event5 1 108 0 && sendevent /dev/input/event5 0 0 0"
                    repeat: 100
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:keyboard-backspace
                  tap_action:
                    action: call-service
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.family_room_androidtv
                      command: "BACK"
                  styles:
                    card:
                      - height: 94px

      - type: conditional
        conditions:
          - entity: input_select.remote_family_room
            state: "Bell"
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: vertical-stack
                  cards:
                    - type: custom:button-card
                      icon: mdi:upload
                      tap_action:
                        action: call-service
                        service: switch.turn_on
                        service_data:
                          entity_id: switch.family_room_mouse_scroll_up
                      hold_action:
                        action: call-service
                        service: switch.turn_on
                        service_data:
                          entity_id: switch.family_room_mouse_scroll_up
                        repeat: 250
                      styles:
                        card:
                          - height: 43px
                    - type: custom:button-card
                      icon: mdi:download
                      tap_action:
                        action: call-service
                        service: switch.turn_on
                        service_data:
                          entity_id: switch.family_room_mouse_scroll_down
                      hold_action_action:
                        action: call-service
                        service: switch.turn_on
                        service_data:
                          entity_id: switch.family_room_mouse_scroll_down
                        repeat: 250
                      styles:
                        card:
                          - height: 43px
                - type: custom:button-card
                  icon: mdi:chevron-up
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_up
                  hold_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_up
                    repeat: 75
                  styles:
                    card:
                      - height: 94px
                - type: vertical-stack
                  cards:
                    - type: custom:button-card
                      icon: mdi:upload-multiple
                      tap_action:
                        action: call-service
                        service: switch.turn_on
                        service_data:
                          entity_id: switch.family_room_mouse_scroll_up_page
                      hold_action:
                        action: call-service
                        service: switch.turn_on
                        service_data:
                          entity_id: switch.family_room_mouse_scroll_up_page
                        repeat: 250
                      styles:
                        card:
                          - height: 43px
                    - type: custom:button-card
                      icon: mdi:download-multiple
                      tap_action:
                        action: call-service
                        service: switch.turn_on
                        service_data:
                          entity_id: switch.family_room_mouse_scroll_down_page
                      hold_action:
                        action: call-service
                        service: switch.turn_on
                        service_data:
                          entity_id: switch.family_room_mouse_scroll_down_page
                        repeat: 250
                      styles:
                        card:
                          - height: 43px

            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  icon: mdi:chevron-left
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_left
                  hold_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_left
                    repeat: 75
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:circle
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_click
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:chevron-right
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_right
                  hold_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_right
                    repeat: 75
                  styles:
                    card:
                      - height: 94px
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  icon: mdi:television-guide
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_bell_channel0 #Guide
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:chevron-down
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_down
                  hold_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_mouse_down
                    repeat: 75
                  styles:
                    card:
                      - height: 94px
                - type: custom:button-card
                  icon: mdi:backup-restore
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_bell_command5 #Last Channel
                  styles:
                    card:
                      - height: 94px

      #################################################################
      # VIEW: r.family_room
      #   Family Room Remote - buttons - Media Control row
      #################################################################
      - type: conditional
        conditions: #TV or Plex
          - entity: input_select.remote_family_room
            state_not: "AndroidTV"
          - entity: input_select.remote_family_room
            state_not: "Bell"
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              icon: mdi:rewind
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.family_room_roku
                  command:
                    - reverse
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:play-pause
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.family_room_roku
                  command:
                    - play
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:fast-forward
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.family_room_roku
                  command:
                    - forward
              styles:
                card:
                  - height: 46px

      - type: conditional
        conditions:
          - entity: input_select.remote_family_room
            state: "AndroidTV"
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              icon: mdi:rewind
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.family_room_roku
                  command:
                    - reverse
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:play-pause
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.family_room_roku
                  command:
                    - play
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:fast-forward
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.family_room_roku
                  command:
                    - forward
              styles:
                card:
                  - height: 46px

      - type: conditional
        conditions:
          - entity: input_select.remote_family_room
            state: "Bell"
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              icon: mdi:stop
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_bell_command2 #Stop
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:play
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_bell_command1 #Play
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:fullscreen
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_bell_command3 #Fullscreen
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:menu-down
              name: CH
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_bell_command7 #Channel Down
              styles:
                card:
                  - height: 46px
                  - font-size: 12px
            - type: custom:button-card
              icon: mdi:menu-up
              name: CH
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_bell_command6 #Channel Up
              styles:
                card:
                  - height: 46px
                  - font-size: 12px

      #################################################################
      # VIEW: r.family_room
      #   Family Room Remote - buttons - Volume Control row
      #################################################################
      - type: conditional
        conditions:
          - entity: input_select.remote_family_room
            state_not: "Bell"
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              icon: mdi:volume-mute
              size: 35px
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_surround_sound_volume_mute
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:volume-minus
              size: 35px
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_surround_sound_volume_down
              hold_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_surround_sound_volume_down
                repeat: 450
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:volume-plus
              size: 35px
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_surround_sound_volume_up
              hold_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_surround_sound_volume_up
                repeat: 450
              styles:
                card:
                  - height: 46px
      - type: conditional
        conditions:
          - entity: input_select.remote_family_room
            state: "Bell"
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              icon: mdi:volume-mute
              size: 35px
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_pc_volume_mute
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:volume-minus
              size: 35px
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_pc_volume_down
              hold_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_pc_volume_down
                repeat: 450
              styles:
                card:
                  - height: 46px
            - type: custom:button-card
              icon: mdi:volume-plus
              size: 35px
              tap_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_pc_volume_up
              hold_action:
                action: call-service
                service: switch.turn_on
                service_data:
                  entity_id: switch.family_room_pc_volume_up
                repeat: 450
              styles:
                card:
                  - height: 46px

      #################################################################
      # VIEW: r.family_room
      #   Family Room Remote - Media Player Info Screen
      #################################################################
      - type: custom:vertical-stack-in-card
        cards:
          - type: conditional
            conditions:
              - entity: input_select.remote_family_room
                state: "Plex"
              - entity: sensor.family_room_plex_playing
                state: "True"
            card:
              type: custom:mini-media-player
              entity: media_player.family_room_plex
              tap_action: !include /config/lovelace/cards/tap_action/popups/media_player_plex_family_room.yaml
              name: Family Room Plex
              icon: mdi:plex
              info: short
              hide:
                progress: true
                artwork_border: false
                power: true
                volume: true
                controls: true
          - type: conditional
            conditions:
              - entity: input_select.remote_family_room
                state: "Plex"
              - entity: sensor.family_room_plex_playing
                state: "False"
            card:
              type: custom:mini-media-player
              entity: media_player.family_room_roku
              name: Family Room Roku
              icon: mdi:television
              info: short
              hide:
                progress: true
                artwork_border: false
                power: true
                volume: true
                controls: true
              tap_action:
                action: none

          - type: conditional
            conditions:
              - entity: input_select.remote_family_room
                state: "Plex"
              - entity: sensor.family_room_plex_playing
                state: "unavailable"
            card:
              type: custom:mini-media-player
              entity: media_player.family_room_roku
              name: Family Room Roku
              icon: mdi:television
              info: short
              hide:
                progress: true
                artwork_border: false
                power: true
                volume: true
                controls: true
              tap_action:
                action: none

          - type: conditional
            conditions:
              - entity: input_select.remote_family_room
                state: "TV"
            card:
              type: custom:mini-media-player
              entity: media_player.family_room_roku
              name: Family Room Roku
              icon: mdi:television
              info: short
              hide:
                progress: true
                artwork_border: false
                power: true
                volume: true
                controls: true

          - type: conditional
            conditions:
              - entity: input_select.remote_family_room
                state: "AndroidTV"
              - entity: sensor.family_room_plex_playing
                state: "True"
            card:
              type: custom:mini-media-player
              entity: media_player.family_room_plex
              tap_action: !include /config/lovelace/cards/tap_action/popups/media_player_plex_family_room.yaml
              name: Family Room Plex
              icon: mdi:plex
              info: short
              hide:
                progress: true
                artwork_border: false
                power: true
                volume: true
                controls: true

          - type: conditional
            conditions:
              - entity: input_select.remote_family_room
                state: "AndroidTV"
              - entity: sensor.family_room_plex_playing
                state_not: "True"
            card:
              type: custom:mini-media-player
              entity: media_player.family_room_androidtv
              name: Family Room Android TV
              icon: mdi:android
              artwork: none
              info: short
              more_info: false
              hide:
                progress: true
                artwork_border: false
                power: true
                volume: true
                controls: true

          - type: conditional
            conditions:
              - entity: input_select.remote_family_room
                state: "Bell"
            card:
              type: picture-elements
              image: /local/photos/transparent.png
              aspect_ratio: 20%
              elements:
                - type: custom:text-action-element
                  text: Family Room Bell TV
                  style:
                    top: 30%
                    left: 50%
                - type: image
                  image: /local/photos/icon_tv-sno.png
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_bell_channel1
                  style:
                    width: 13%
                    top: 70%
                    left: 8%
                - type: image
                  image: /local/photos/icon_tv-sn1.png
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_bell_channel2
                  style:
                    width: 13%
                    top: 70%
                    left: 24%
                - type: image
                  image: /local/photos/icon_tv-tsn1.png
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_bell_channel3
                  style:
                    width: 13%
                    top: 70%
                    left: 41%
                - type: image
                  image: /local/photos/icon_tv-tsn4.png
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_bell_channel4
                  style:
                    width: 16%
                    top: 70%
                    left: 58%
                - type: image
                  image: /local/photos/icon_tv-discovery.png
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_bell_channel8
                  style:
                    width: 13%
                    top: 70%
                    left: 75%
                - type: image
                  image: /local/photos/icon_tv-hgtv.png
                  tap_action:
                    action: call-service
                    service: switch.turn_on
                    service_data:
                      entity_id: switch.family_room_bell_channel6
                  style:
                    width: 13%
                    top: 70%
                    left: 92%

          #################################################################
          # VIEW: r.family_room
          #   Family Room Remote - Remote Selection Screen
          #################################################################
          - type: picture-elements
            image: /local/photos/gray.png
            aspect_ratio: 8.8%
            entity: group.family_room_tv
            state_filter:
              "off": opacity(25%)
            elements:
              - type: image
                image: /local/photos/icon_plex.png
                entity: switch.remote_family_room_plex
                state_filter:
                  "off": opacity(33%)
                tap_action:
                  action: toggle
                hold_action:
                  action: call-service
                  service: script.remote_family_room_watch_plex
                style:
                  width: 8%
                  top: 50%
                  left: 10%
              - type: image
                image: /local/photos/icon_roku_tv.png
                entity: switch.remote_family_room_tv
                state_filter:
                  "off": opacity(33%)
                tap_action:
                  action: toggle
                hold_action:
                  action: call-service
                  service: script.remote_family_room_watch_tv
                style:
                  width: 8%
                  top: 50%
                  left: 29%
              - type: image
                image: /local/photos/icon_androidtv.png
                entity: switch.remote_family_room_androidtv
                state_filter:
                  "off": opacity(33%)
                tap_action:
                  action: toggle
                hold_action:
                  action: call-service
                  service: script.remote_family_room_watch_androidtv
                style:
                  width: 8%
                  top: 44%
                  left: 48%
              - type: image
                image: /local/photos/icon_bell.png
                entity: switch.remote_family_room_bell
                state_filter:
                  "off": opacity(33%)
                tap_action:
                  action: toggle
                hold_action:
                  action: call-service
                  service: script.remote_family_room_watch_bell
                style:
                  width: 8%
                  top: 50%
                  left: 67%
              - type: image
                image: /local/photos/icon_power.png
                entity: group.family_room_tv
                tap_action:
                  action: none
                double_tap_action:
                  action: call-service
                  service: script.family_room_off_lights_delay
                hold_action:
                  action: call-service
                  service: script.family_room_off_lights_delay
                state_filter:
                  "on": opacity(75%)
                  "off": opacity(20%)
                style:
                  width: 8%
                  top: 50%
                  left: 90%
